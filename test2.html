<!DOCTYPE html>
<head>
    <meta charset="utf-8">
</head>

<body>
    <div id="body">
        <div id="chart"></div>
    </div>
<style>

body {
  font: 10px sans-serif;
}

.group-tick line {
  stroke: #000;
}

.ribbons {
  fill-opacity: 0.67;
}

</style>
<svg width="960" height="960"></svg>
<script src="https://d3js.org/d3-array.v1.min.js"></script>
<script src="https://d3js.org/d3-path.v1.min.js"></script>
<script src="https://d3js.org/d3-chord.v1.min.js"></script>
<script src="https://d3js.org/d3.v4.min.js"></script>
<script>

// var matrix = [
//   [11975,  5871, 8916, 2868],
//   [ 1951, 10048, 2060, 6171],
//   [ 8010, 16145, 8090, 8045],
//   [ 1013,   990,  940, 6907]
// ];
var data = [
        {"neighborhood": "Anza Vista", "list": [198, 105, 25, 1, 23, 29, 376, 3, 0, 85, 197, 356, 138, 57, 26, 110, 210, 152, 80, 29, 159, 62, 14, 6, 54, 556, 61, 91, 7, 48]}, 
        {"neighborhood": "Lower Haight", "list": [108, 87, 53, 10, 168, 13, 821, 22, 14, 95, 196, 407, 400, 207, 37, 135, 522, 778, 561, 38, 387, 117, 46, 16, 14, 2132, 680, 502, 73, 331]}, 
        {"neighborhood": "The Castro", "list": [168, 78, 466, 73, 458, 43, 1341, 27, 81, 204, 204, 635, 380, 463, 68, 311, 1017, 4849, 2235, 219, 365, 110, 267, 154, 90, 4652, 383, 1917, 47, 887]}, {"neighborhood": "Western Addition", "list": [173, 43, 116, 14, 441, 42, 2555, 24, 28, 158, 156, 1003, 415, 495, 50, 422, 733, 2100, 1320, 82, 378, 164, 189, 36, 70, 4739, 625, 1402, 127, 615]}, {"neighborhood": "South of Market", "list": [559, 236, 1540, 965, 20627, 1853, 15794, 870, 2141, 22737, 1590, 16589, 2805, 846, 1854, 3007, 46655, 14167, 5955, 914, 1045, 214, 3924, 7539, 5469, 70541, 6656, 2537, 2786, 2179]}, {"neighborhood": "Financial District", "list": [219, 130, 150, 168, 3311, 1144, 2829, 64, 444, 6528, 331, 7662, 587, 135, 1162, 760, 10844, 1479, 754, 262, 261, 66, 559, 958, 363, 15590, 1944, 323, 652, 524]}, {"neighborhood": "Mission District", "list": [211, 81, 4922, 661, 2329, 100, 4277, 468, 504, 874, 366, 1879, 851, 383, 219, 993, 6562, 27857, 8547, 2551, 486, 129, 3684, 580, 358, 16047, 1622, 3548, 402, 1254]}, {"neighborhood": "Dogpatch", "list": [7, 1, 96, 292, 1081, 23, 446, 25, 188, 787, 20, 560, 28, 6, 29, 51, 974, 462, 133, 31, 3, 4, 730, 102, 79, 2146, 98, 58, 77, 21]}, {"neighborhood": "Embarcadero", "list": [25, 63, 104, 211, 8980, 786, 1233, 169, 628, 18114, 157, 6880, 188, 41, 573, 243, 7902, 618, 219, 41, 67, 14, 924, 1009, 650, 20401, 1200, 87, 1386, 177]}, {"neighborhood": "Design District", "list": [5, 8, 26, 36, 210, 12, 119, 82, 36, 157, 11, 93, 42, 5, 15, 224, 795, 431, 74, 5, 6, 1, 154, 64, 22, 666, 82, 23, 31, 11]}, {"neighborhood": "Lower Nob Hill", "list": [85, 39, 30, 3, 747, 154, 894, 21, 30, 640, 127, 1383, 191, 25, 212, 158, 1031, 462, 145, 73, 129, 23, 89, 146, 229, 3107, 309, 83, 347, 80]}, {"neighborhood": "Chinatown", "list": [23, 33, 19, 12, 221, 199, 354, 9, 30, 740, 89, 1730, 60, 7, 248, 64, 692, 118, 92, 21, 53, 1, 48, 223, 35, 2997, 190, 40, 194, 79]}, {"neighborhood": "Fillmore District", "list": [458, 183, 65, 7, 288, 51, 1941, 136, 50, 141, 361, 469, 758, 119, 82, 140, 669, 470, 219, 23, 222, 79, 50, 118, 45, 2004, 401, 166, 110, 172]}, {"neighborhood": "Civic Center", "list": [500, 320, 679, 84, 1192, 258, 4802, 479, 371, 1487, 1491, 3142, 2168, 371, 503, 1363, 10253, 4375, 3134, 347, 586, 130, 555, 510, 247, 20015, 3091, 1209, 858, 1759]}, {"neighborhood": "North of the Panhandle", "list": [392, 241, 68, 18, 373, 50, 1174, 9, 14, 227, 341, 1148, 399, 424, 103, 571, 558, 996, 864, 27, 1413, 480, 91, 22, 28, 3282, 463, 546, 55, 337]}, {"neighborhood": "Alamo Square", "list": [173, 162, 47, 15, 280, 38, 992, 61, 9, 88, 676, 536, 253, 117, 74, 241, 527, 401, 401, 19, 421, 40, 182, 23, 52, 1655, 179, 259, 77, 185]}, {"neighborhood": "Potrero Hill", "list": [41, 26, 135, 592, 1146, 35, 399, 135, 664, 1095, 53, 730, 115, 50, 55, 369, 2196, 3038, 836, 107, 44, 12, 1305, 341, 512, 3794, 565, 209, 128, 99]}, {"neighborhood": "Mission Dolores", "list": [196, 89, 1523, 146, 549, 85, 3321, 47, 110, 234, 187, 824, 551, 390, 105, 702, 2168, 8834, 3714, 664, 396, 96, 775, 265, 103, 7715, 731, 2065, 317, 1032]}, {"neighborhood": "Central Waterfront", "list": [3, 1, 295, 159, 369, 16, 110, 84, 220, 489, 10, 371, 24, 11, 14, 37, 257, 802, 187, 171, 17, 5, 505, 21, 57, 765, 26, 131, 10, 13]}, {"neighborhood": "Tenderloin", "list": [181, 98, 147, 28, 706, 188, 3211, 84, 81, 1007, 320, 1501, 675, 260, 224, 493, 5825, 1677, 871, 96, 255, 118, 415, 157, 171, 6156, 1008, 373, 250, 570]}, {"neighborhood": "Hayes Valley", "list": [169, 83, 216, 12, 383, 43, 2614, 140, 25, 419, 766, 941, 551, 292, 135, 266, 1321, 998, 595, 47, 367, 64, 150, 53, 97, 4375, 502, 470, 76, 444]}, {"neighborhood": "Mid-Market", "list": [52, 39, 52, 13, 143, 71, 1201, 47, 16, 319, 153, 1027, 204, 54, 151, 513, 1490, 572, 464, 45, 115, 21, 313, 122, 45, 3961, 637, 244, 177, 250]}, {"neighborhood": "Mission Bay", "list": [210, 136, 418, 350, 4233, 234, 6763, 830, 1025, 10157, 462, 10638, 801, 223, 443, 3458, 15071, 5686, 1671, 166, 195, 48, 1986, 3122, 1064, 39033, 3984, 615, 2974, 488]}, {"neighborhood": "Bernal Heights", "list": [29, 8, 965, 484, 137, 17, 1200, 68, 129, 121, 58, 319, 153, 30, 27, 154, 851, 5479, 1423, 620, 72, 18, 140, 91, 73, 2405, 186, 403, 50, 136]}, {"neighborhood": "South Park", "list": [8, 31, 57, 33, 228, 39, 260, 33, 72, 626, 34, 558, 62, 21, 102, 51, 881, 385, 148, 54, 19, 14, 263, 598, 124, 4309, 196, 90, 125, 40]}, {"neighborhood": "Rincon Hill", "list": [13, 5, 17, 54, 2348, 84, 577, 162, 184, 1605, 75, 1111, 46, 10, 151, 49, 4397, 374, 90, 41, 17, 10, 307, 269, 331, 5167, 255, 58, 444, 33]}, {"neighborhood": "Panhandle", "list": [46, 69, 30, 3, 29, 5, 278, 2, 8, 56, 98, 291, 85, 148, 11, 37, 173, 264, 181, 16, 379, 186, 18, 71, 37, 899, 95, 244, 60, 220]}, {"neighborhood": "The East Cut", "list": [42, 4, 51, 32, 784, 62, 672, 40, 54, 997, 36, 500, 85, 17, 103, 138, 3198, 559, 189, 47, 28, 7, 173, 132, 196, 3254, 210, 92, 99, 38]}, {"neighborhood": "China Basin", "list": [50, 18, 110, 454, 3144, 173, 1110, 257, 976, 10685, 176, 4708, 272, 40, 327, 216, 4719, 2011, 677, 50, 75, 14, 1016, 1979, 404, 18774, 1297, 226, 822, 157]}, {"neighborhood": "Noe Valley", "list": [21, 21, 979, 265, 149, 15, 641, 14, 49, 117, 39, 397, 85, 45, 70, 87, 534, 5106, 1063, 2266, 46, 12, 318, 187, 252, 2819, 195, 314, 81, 104]}];

var matrix = [];
var neighborhoods = []

for (var i=0; i < data.length; i++){
    matrix.push(data[i].list);
    neighborhoods.push(data[i].neighborhood);
}

console.log(matrix);
console.log(neighborhoods);

var chord = d3.chord();
var ribbon = d3.ribbon();

</script>
</body>
